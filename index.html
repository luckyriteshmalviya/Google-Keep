<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Google Keep</title>

    <!--Google api for fonts-->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;500;600&family=Roboto:wght@300;400&display=swap"
      rel="stylesheet"
    />

    <!--unbox api for icons-->
    <link
      href="https://unpkg.com/boxicons@2.1.1/css/boxicons.min.css"
      rel="stylesheet"
    />

    <!--CSS stylesheets-->
    <link rel="stylesheet" href="assets/css/main.css" />
    <link rel="stylesheet" href="assets/css/header.css" />
    <link rel="stylesheet" href="assets/css/noteSection.css" />
  </head>

  <body>
    <!-- main element -->
    <div class="main">
      <!--Header Starts here-->
      <div class="header" id="header">
        <div class="headerLeftSection" id="headerLeftSection">
          <div class="firstPart">
            <div id="menuBar">
              <div id="menu" class="close">
                <div class="bar" id="bar-1"></div>
                <div class="bar" id="bar-2"></div>
                <div class="bar" id="bar-3"></div>
              </div>
            </div>
          </div>

          <!-- <div class="secondPart"> -->
          <img
            class="secondPartImage"
            src="https://www.gstatic.com/images/branding/product/1x/keep_2020q4_48dp.png"
            alt="keep"
          />
          <span class="keep">Keep</span>
          <!-- </div> -->
        </div>

        <div class="headerCenterSection">
          <div class="searchBar" id="searchBar">
            <div class="searchIc">
              <i class="bx bx-search"></i>
            </div>
            <input
              class="search"
              id="search"
              placeholder="Search"
              onkeyup="searchNotes()"
            />
          </div>
        </div>

        <div class="headerRightSection">
          <div class="rightMenuFirst">
            <div id="themes" class="headerRightSectionIcon">
              <i class="bx bxs-moon"></i>
            </div>
          </div>

          <div class="headerRightSectionIcon">
            <i class="bx bx-cog"></i>
          </div>
          <div class="headerRightSectionIcon">
            <i class="bx bxs-grid"></i>
          </div>
        </div>
      </div>
      <!--Header Ends here-->

      <!--Main-Container starts here-->
      <div class="mainContainer" id="mainContainer">
        <!--Slide Menu Starts here-->
        <div class="nav" id="nav">
          <ul id="sideBar">
            <li>
              <button
                class="listItems"
                id="notesButton"
                onclick="displayNotes()"
              >
                <span class="slideIc"><i class="bx bx-bulb"></i></span>
                <span class="slideText">Notes</span>
              </button>
            </li>
            <li>
              <button class="listItems" id="bookmark">
                <span class="slideIc"><i class="bx bx-pin"></i></span>
                <span class="slideText">Bookmark</span>
              </button>
            </li>
            <li>
              <button class="listItems" id="reminder">
                <span class="slideIc"><i class="bx bx-bell-plus"></i></span>
                <span class="slideText">Reminders</span>
              </button>
            </li>
            <li>
              <button class="listItems" id="personal">
                <span class="slideIc"><i class="bx bx-label"></i></span>
                <span class="slideText">Personal</span>
              </button>
            </li>
            <li>
              <button class="listItems" id="editLabels">
                <span class="slideIc"><i class="bx bx-edit-alt"></i></span
                ><span class="slideText">Edit Labels</span>
              </button>
            </li>
            <li>
              <button class="listItems" id="archive">
                <span class="slideIc"><i class="bx bx-archive-in"></i></span>
                <span class="slideText">Archive</span>
              </button>
            </li>
            <li>
              <button class="listItems" id="trash" onclick="trash()">
                <span class="slideIc"><i class="bx bx-trash"></i></span>
                <span class="slideText">Trash</span>
              </button>
            </li>
          </ul>
        </div>
        <!--Slide Menu ends here-->

        <!--Notes section starts here-->
        <div id="formSection">
          <div class="form" id="form">
            <div>
              <input
                type="text"
                class="notesTitle"
                id="notesTitle"
                placeholder="Title"
              />
            </div>

            <div id="notesDescriptionArea" style="height: 3rem">
              <textarea
                placeholder="Description..."
                class="notesDescription"
                id="notesDescription"
              ></textarea>
            </div>
            <div class="notesOption">
              <div id="savedNotesIcon" class="savedNotesIcon">
                <p><i class="bx bx-microphone" id="mic"></i></p>
                <p><i class="bx bx-user-plus"></i></p>
                <p><i class="bx bx-palette"></i></p>
                <p><i class="bx bx-image-alt"></i></p>
                <p><i class="bx bxs-bell-plus"></i></p>
                <p><i class="bx bx-dots-vertical-rounded"></i></p>
                <p><i class="bx bx-undo"></i></p>
                <p><i class="bx bx-redo"></i></p>
              </div>
              <div class="discardAndSaveButton">
                <button
                  class="discardNotes"
                  id="discardNotes"
                  onclick="saveNote(true)"
                >
                  DISCARD
                </button>
                <div class="saveNotes" id="saveNotes" onclick="saveNote()">
                  <i class="bx bx-save"></i>
                </div>
              </div>
            </div>
            <div class="tagArea">
              <div class="tagInputArea">
                <input
                  type="text"
                  class="tagInput"
                  id="tagInput"
                  placeholder="Add Tag..."
                  list="tagListOptions"
                /><i class="bx bx-plus" id="plusIconAddTag"></i>
                <datalist id="tagListOptions">
                  <option>High Priority</option>
                  <option>Medium Priority</option>
                  <option>Low Priority</option>
                  <option>Create Tag Name</option>
                </datalist>
              </div>
              <div id="savedTag" class="savedTag"></div>
            </div>
          </div>

          <div id="savedNotes"></div>
          <div id="editNote"></div>
        </div>
        <!--Notes section ends here-->
      </div>
      <!--Main Container ends here-->
    </div>
    <script type="module">
      import {
        onClickMenu,
        theme,
        addTag,
        speechToText,
      } from "./assets/javascript/otherFunctions/main.js";
      document.getElementById("menu").addEventListener("click", onClickMenu);
      document.getElementById("themes").addEventListener("click", theme);

      document
        .getElementById("plusIconAddTag")
        .addEventListener("click", addTag);

      speechToText();
    </script>

    <script src="assets/javascript/CRUD_functions/createNote.js">
      displayNotes()
    </script>
    <script src="assets/javascript/otherFunctions/bookmark.js"></script>
    <script src="assets/javascript/otherFunctions/trash.js"></script>
    <script src="assets/javascript/otherFunctions/searchBar.js"></script>

    <script>
      document.querySelector("#sideBar").addEventListener("click", (e) => {
        let themeStatus = JSON.parse(localStorage.getItem("themeStatus"));

        let listItems = document.getElementById("sideBar").children;
        for (let i = 0; i < listItems.length; i++) {
          listItems[i].childNodes[0].nextSibling.style.backgroundColor =
            "transparent";
        }
        // console.log(themeStatus, typeof themeStatus);
        // if (themeStatus === true) {
        //   if (e.target.className === "listItems") {
        //     e.target.style.backgroundColor = "#2d2d2d";
        //   } else if (e.target.className === "slideText") {
        //     e.path[1].style.backgroundColor = "#2d2d2d";
        //   } else {
        //     e.path[2].style.backgroundColor = "#2d2d2d";
        //   }
        // } else {
        if (e.target.className === "listItems") {
          e.target.style.backgroundColor = "#feefc3";
        } else if (e.target.className === "slideText") {
          e.path[1].style.backgroundColor = "#feefc3";
        } else {
          e.path[2].style.backgroundColor = "#feefc3";
        }
        // }
        // e.stopPropagation();
      });
    </script>
  </body>
</html>
